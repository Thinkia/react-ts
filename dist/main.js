!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),s=n(2),r=n(3);class l extends o.Component{constructor(e){super(e),this.setStage=(e,t)=>{let n=this.objectsClone();n.map(n=>{n.task===e&&(n.stage=t)}),this.setState({objects:n})},this.delObject=e=>{let t=this.objectsClone(),n=[];t.map(t=>{t.task!==e&&n.push(t)}),this.setState({objects:n})},this.changeObj=e=>{this.setState({objects:e})},this.state={objects:[{task:"task0",describe:"describe0",stage:"todo"}],number:1},this.addElement=this.addElement.bind(this),this.doneAll=this.doneAll.bind(this)}componentDidMount(){}objectsClone(){const e=this.state.objects;let t=[];for(let n=0;n<e.length;n++)t[n]={task:e[n].task,describe:e[n].describe,stage:e[n].stage};return t}componentDidUpdate(e,t,n){console.log("componentDidUpdate:  更新完成")}addElement(){let e=this.state.objects;e.push({task:"task"+this.state.number,describe:"describe"+this.state.number,stage:"todo"}),this.setState({objects:e,number:this.state.number+1})}doneAll(){this.setAllStage("done")}setAllStage(e){let t=this.objectsClone();t.map(t=>{t.stage=e}),this.setState({objects:t})}delAllObjects(){this.setState({objects:[]})}render(){const e=this.state.objects,{objects:t}=this.state;return o.createElement("div",null,o.createElement("button",{onClick:this.addElement}," add "),o.createElement("button",{onClick:this.doneAll}," done all "),o.createElement("table",null,o.createElement("tbody",null,e.map(e=>o.createElement(r.Item,{key:e.task,object:e,delObject:this.delObject,setStage:this.setStage})))))}}s.render(o.createElement(l,null),document.getElementById("example"))},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0);class s extends o.PureComponent{constructor(e){super(e),this.state={stage:this.props.object.stage},this.handleChange=this.handleChange.bind(this),this.setStage=this.setStage.bind(this)}componentDidMount(){console.log("DidMount: 挂载 ")}static getDerivedStateFromProps(e,t){return console.log("getDerivedStateFromProps: 从 props 中获取 state "),!0}getSnapshotBeforeUpdate(e,t){return console.log("getSnapshotBeforeUpdate : 获取快照？ "),!0}componentDidUpdate(e,t,n){console.log("componentDidUpdate:  更新完成")}componentWillUnmount(){console.log("WillUnmount: 即将卸载")}static getDerivedStateFromError(){console.log("getDerivedStateFromErrort: 从错误中获取 state")}componentDidCatch(){console.log("componentDidCatch: 捕获错误并进行处理")}handleChange(e){this.props.delObject(this.props.object.task)}setStage(e){this.props.setStage(this.props.object.task,e.target.value),e.preventDefault()}render(){return o.createElement("tr",null,o.createElement("td",null,this.props.object.task),o.createElement("td",null,this.props.object.describe),o.createElement("td",null,this.props.object.stage),o.createElement("td",null,o.createElement("button",{onClick:this.setStage,value:"done"},"done"),o.createElement("button",{onClick:this.setStage,value:"doing"},"doing"),o.createElement("button",{onClick:this.setStage,value:"todo"},"todo"),o.createElement("button",{onClick:this.handleChange},"delete")))}}t.Item=s}]);
//# sourceMappingURL=main.js.map