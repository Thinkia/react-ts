!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0),l=n(2),r=n(3);class a extends o.Component{constructor(e){super(e),this.changeObj=(e,t)=>{void 0!==e&&this.setState({obj:e}),void 0!==t&&this.setState({done:t})},this.state={obj:[{task:"test",describe:"test",plan:"todo"}],number:0,done:!1},this.addElement=this.addElement.bind(this),this.doneAll=this.doneAll.bind(this)}componentDidMount(){}componentDidUpdate(e,t,n){console.log("componentDidUpdate:  更新完成")}addElement(){let e=this.state.obj;e.push({task:"任务"+this.state.number,describe:"描述"+this.state.number,plan:"todo"}),this.setState({obj:e,number:this.state.number+1})}doneAll(){this.setState({done:!0})}render(){const e=this.state.obj;return o.createElement("div",null,o.createElement("button",{onClick:this.addElement}," add "),o.createElement("button",{onClick:this.doneAll}," done all "),o.createElement("table",null,o.createElement("tbody",null,e.map(e=>o.createElement(r.List,{key:e.task,obj:e,allObj:this.state.obj,changeObj:this.changeObj})))))}}l.render(o.createElement(a,null),document.getElementById("example"))},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(0);class l extends o.PureComponent{constructor(e){super(e),this.state={value:"todo",doneAll:!1},this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){console.log("DidMount: 挂载 ")}static getDerivedStateFromProps(e,t){return console.log("getDerivedStateFromProps: 从 props 中获取 state "),console.log(t.value),!0}getSnapshotBeforeUpdate(e,t){return console.log("getSnapshotBeforeUpdate : 获取快照？ "),!0}componentDidUpdate(e,t,n){console.log("componentDidUpdate:  更新完成")}componentWillUnmount(){console.log("WillUnmount: 即将卸载")}static getDerivedStateFromError(){console.log("getDerivedStateFromErrort: 从错误中获取 state")}componentDidCatch(){console.log("componentDidCatch: 捕获错误并进行处理")}handleChange(e){const t=this.props.allObj;let n;t.map(o=>{e.target.value==o.task&&(n=this.removeElement(t,o))}),this.props.changeObj(n)}removeElement(e,t){let n=[];return e.forEach(e=>{e.task!==t.task&&n.push(e)}),n}changeElement(e,t,n){return e.forEach(e=>{e.task==t&&(e.plan=n)}),e}handleSubmit(e){console.log("submit"),this.props.obj.plan!==e.target.value&&(this.props.changeObj(this.changeElement(this.props.allObj,this.props.obj.task,e.target.value)),this.setState({value:e.target.value})),e.preventDefault()}doneAll(){this.setState({value:"done"})}render(){return o.createElement("tr",null,o.createElement("td",null,this.props.obj.task),o.createElement("td",null,this.props.obj.describe),o.createElement("td",null,this.state.value),o.createElement("td",null,o.createElement("button",{onClick:this.handleSubmit,value:"done"},"done"),o.createElement("button",{onClick:this.handleSubmit,value:"doing"},"doing"),o.createElement("button",{onClick:this.handleSubmit,value:"todo"},"todo"),o.createElement("button",{onClick:this.handleChange,value:this.props.obj.task},"delete")))}}t.List=l}]);
//# sourceMappingURL=main.js.map